/*! scrollAway.js - v0.1.0 - 2015-04-24
* https://github.com/negomi/scrollaway
* Copyright (c) 2015 Imogen Wentworth; Licensed MIT */
!function(a){"use strict";function b(b,c){this.$element=a(b),this.options=a.extend({},this.defaults,c||{}),this.init()}b.prototype.init=function(){var b=this;this.setOptsByType(this.options),this.validateOptions(),this.setAnimations(this.options.animation),this.previousScroll=0,a(window).scroll(this.throttle(function(){b.handleScroll()},this.options.delay))},b.prototype.handleScroll=function(){this.currentScroll=a(window).scrollTop(),this.setShowConditions(),this.handleElement(),this.previousScroll=this.currentScroll},b.prototype.handleElement=function(){try{this.showConditions.some(this.isTrue)?this.show.call(this.$element,this.optsByType.animation):this.hide.call(this.$element,this.optsByType.animation)}catch(b){a.error("Unknown easing value. Core jQuery options are 'swing' or 'linear'.")}},b.prototype.setShowConditions=function(){var b,c,d;this.showConditions?this.showConditions.length=0:this.showConditions=[],b=this.currentScroll<this.previousScroll,this.showConditions.push(b),c=this.currentScroll<=0+this.options.topTriggerDistance,this.showConditions.push(c),this.options.autoShowAtBottom&&(d=this.currentScroll+a(window).height()>=a(document).height()-this.options.bottomTriggerDistance,this.showConditions.push(d))},b.prototype.setAnimations=function(c){switch(c){case"fade":b.prototype.show=a.fn.fadeIn,b.prototype.hide=a.fn.fadeOut;break;case"slide":b.prototype.show=a.fn.slideDown,b.prototype.hide=a.fn.slideUp;break;default:b.prototype.show=a.fn.show,b.prototype.hide=a.fn.hide}},b.prototype.setOptsByType=function(a){this.optsByType={num:{duration:a.duration,delay:a.delay,topTriggerDistance:a.topTriggerDistance,bottomTriggerDistance:a.bottomTriggerDistance},bool:{autoShowAtBottom:a.autoShowAtBottom},animation:{easing:a.easing,duration:a.duration}}},b.prototype.validateOptions=function(){this.checkType(this.optsByType.num,"number","must be a number"),this.checkType(this.optsByType.bool,"boolean","must be true or false")},b.prototype.checkType=function(b,c,d){b.constructor===Object?a.each(b,function(b,e){typeof e!==c&&a.error(b+" "+d+".")}):a.error("Input must be an object.")},b.prototype.throttle=function(a,b){var c,d;return function(){var e=this,f=(new Date).getTime(),g=arguments;c&&c+b>f?(clearTimeout(d),d=setTimeout(function(){c=f,a.apply(e,g)},b)):(c=f,a.apply(e,g))}},b.prototype.isTrue=function(a){return!!a},a.fn.scrollAway=function(c){return this.each(function(){a.data(this,"scrollAway",new b(this,c))})},a.scrollAway=function(){a.error('No element specified for scrollAway. Try: $("#your-element").scrollAway();')},b.prototype.defaults={animation:"fade",duration:400,easing:"swing",delay:350,topTriggerDistance:0,bottomTriggerDistance:0,autoShowAtBottom:!0}}(jQuery);